import{D as p}from"./datetime.5c040712.js";import{_ as v,a as n,o as l,c as r,b as e,g as c,A as f,v as h,B as u,e as m,F as y,f as g,t as i}from"./index.8713e1d8.js";const _={data(){return{queryData:[],searchBy:"",eventName:"",eventDate:""}},mounted(){let o="https://cis4339project7.herokuapp.com//eventdata/";this.queryData=[],n.get(o).then(t=>{this.queryData=t.data}),window.scrollTo(0,0)},methods:{formattedDate(o){return p.fromISO(o).plus({days:1}).toLocaleString()},handleSubmitForm(){let o="";this.searchBy==="Event Name"?o=`https://cis4339project7.herokuapp.com//eventdata/search/?eventName=${this.eventName}&searchBy=name`:this.searchBy==="Event Date"&&(o=`https://cis4339project7.herokuapp.com//eventdata/search/?date=${this.eventDate}&searchBy=date`),n.get(o).then(t=>{t.data=="Event not found"?alert(JSON.stringify(t.data)):this.queryData=t.data})},clearSearch(){this.searchBy="",this.eventName="",this.eventDate="";let o="https://cis4339project7.herokuapp.com//eventdata/events";this.queryData=[],n.get(o).then(t=>{this.queryData=t.data})},editEvent(o){this.$router.push({name:"eventdetails",params:{id:o}})}}},b=e("div",{style:{"border-radius":"7px",border:"2.5px solid black"}},[e("h1",{class:"font-bold text-4xl text-red-700 tracking-widest text-center mt-10"},"List of Events")],-1),x={class:"px-10 pt-20"},D={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-x-6 gap-y-10"},k=e("h2",{class:"text-2xl font-bold"},"Search Event By",-1),E={class:"flex flex-col"},S=e("option",{value:"Event Name"},"Event Name",-1),w=e("option",{value:"Event Date"},"Event Date",-1),B=[S,w],N={key:0,class:"flex flex-col"},F={class:"block"},q={key:1,class:"flex flex-col"},C={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-x-6 gap-y-10"},L=e("div",null,null,-1),U=e("div",null,null,-1),V={class:"mt-5 grid-cols-2"},j=e("hr",{class:"mt-10 mb-10"},null,-1),K={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-x-6 gap-y-10"},R=e("div",{class:"ml-10"},[e("h2",{class:"text-2xl font-bold"},"List of Events"),e("h3",{class:"italic"},"Click table row to edit/delete/display an entry")],-1),T={class:"flex flex-col col-span-2"},A={class:"min-w-full shadow-md rounded",style:{border:".5px solid black"}},M=e("thead",{class:"bg-gray-50 text-xl"},[e("tr",null,[e("th",{class:"p-4 text-left",style:{border:".5px solid black"}},"Event Name"),e("th",{class:"p-4 text-left",style:{border:".5px solid black"}},"Event Date"),e("th",{class:"p-4 text-left",style:{border:".5px solid black"}},"Event Address"),e("th",{class:"p-4 text-left",style:{border:".5px solid black"}},"Description")])],-1),O={class:"divide-y divide-gray-300"},I=["onClick"],J={class:"p-2 text-left"},z={class:"p-2 text-left"},G={class:"p-2 text-left"},H={class:"p-2 text-left"};function P(o,t,Q,W,d,a){return l(),r("main",null,[b,e("div",x,[e("div",D,[k,e("div",E,[c(e("select",{class:"rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50","onUpdate:modelValue":t[0]||(t[0]=s=>d.searchBy=s)},B,512),[[f,d.searchBy]])]),d.searchBy==="Event Name"?(l(),r("div",N,[e("label",F,[c(e("input",{type:"text",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50","onUpdate:modelValue":t[1]||(t[1]=s=>d.eventName=s),onKeyup:t[2]||(t[2]=u((...s)=>a.handleSubmitForm&&a.handleSubmitForm(...s),["enter"])),placeholder:"Enter event name"},null,544),[[h,d.eventName]])])])):m("",!0),d.searchBy==="Event Date"?(l(),r("div",q,[c(e("input",{class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",type:"date","onUpdate:modelValue":t[3]||(t[3]=s=>d.eventDate=s),onKeyup:t[4]||(t[4]=u((...s)=>a.handleSubmitForm&&a.handleSubmitForm(...s),["enter"]))},null,544),[[h,d.eventDate]])])):m("",!0)]),e("div",C,[L,U,e("div",V,[e("button",{class:"mr-10 border border-red-700 bg-white text-red-700 rounded",onClick:t[5]||(t[5]=(...s)=>a.clearSearch&&a.clearSearch(...s)),type:"submit"},"Clear Search"),e("button",{class:"bg-red-700 text-white rounded",onClick:t[6]||(t[6]=(...s)=>a.handleSubmitForm&&a.handleSubmitForm(...s)),type:"submit"},"Search Event")])])]),j,e("div",K,[R,e("div",T,[e("table",A,[M,e("tbody",O,[(l(!0),r(y,null,g(d.queryData,s=>(l(),r("tr",{onClick:X=>a.editEvent(s._id),key:s._id},[e("td",J,i(s.eventName),1),e("td",z,i(a.formattedDate(s.date)),1),e("td",G,i(s.address.line1),1),e("td",H,i(s.description),1)],8,I))),128))])])])])])}const $=v(_,[["render",P]]);export{$ as default};
